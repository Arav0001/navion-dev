<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>NAVION Control</title>
		<link rel="stylesheet" href="style.css">
		<script src="chart.js"></script>
	</head>
	<body>
		<h1>NAVION Control Panel</h1>
		<button id="arm-button" onclick="sendCommand('arm')">ARM</button>
		<div class="flight-status">
			<h2>Flight Status</h2>
			<div class="flight-state-display">
				<span class="flight-state-label">Current State:</span>
				<span class="flight-state-value" id="flight-state-value">UNKNOWN</span>
			</div>
		</div>
		<div class="flight-events">
			<h2>Flight Events</h2>
			<div class="flight-event-list">
				<div class="flight-event-item">
					<div class="status-circle inactive" id="status-calibrated"></div>
					<div class="flight-event-info">
						<span class="flight-event-label">Calibrated</span>
						<span class="flight-event-timestamp" id="timestamp-calibrated">--:--</span>
					</div>
				</div>
				<div class="flight-event-item">
					<div class="status-circle inactive" id="status-armed"></div>
					<div class="flight-event-info">
						<span class="flight-event-label">Armed</span>
						<span class="flight-event-timestamp" id="timestamp-armed">--:--</span>
					</div>
				</div>
				<div class="flight-event-item">
					<div class="status-circle inactive" id="status-ignition"></div>
					<div class="flight-event-info">
						<span class="flight-event-label">Ignition</span>
						<span class="flight-event-timestamp" id="timestamp-ignition">--:--</span>
					</div>
				</div>
				<div class="flight-event-item">
					<div class="status-circle inactive" id="status-apogee"></div>
					<div class="flight-event-info">
						<span class="flight-event-label">Apogee</span>
						<span class="flight-event-timestamp" id="timestamp-apogee">--:--</span>
					</div>
				</div>
				<div class="flight-event-item">
					<div class="status-circle inactive" id="status-touchdown"></div>
					<div class="flight-event-info">
						<span class="flight-event-label">Touchdown</span>
						<span class="flight-event-timestamp" id="timestamp-touchdown">--:--</span>
					</div>
				</div>
			</div>
		</div>
		<div class="servo-control">
			<h2>TVC Servo Control</h2>
			<label for="x-angle">X Angle:</label>
			<input type="number" id="x-angle" value="0" min="-5" max="5">
			<button onclick="sendServoAngle('x')">Send X Angle</button>
			<label for="y-angle">Y Angle:</label>
			<input type="number" id="y-angle" value="0" min="-5" max="5">
			<button onclick="sendServoAngle('y')">Send Y Angle</button>
		</div>
		<div class="joystick">
			<h2>TVC Joystick Control</h2>
			<div class="joystick-center-wrapper">
				<div id="joystick-box">
					<div id="joystick-dot"></div>
				</div>
			</div>
			<p id="tvc-output">TVC X: 0.0, Y: 0.0</p>
		</div>
		<div id="charts-container" style="display: flex; flex-wrap: wrap; justify-content: center; margin-top: 2rem;"></div>
		<script src="server.js"></script>
	</body>
</html>
